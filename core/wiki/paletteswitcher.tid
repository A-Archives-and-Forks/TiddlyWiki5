title: $:/snippets/paletteswitcher

\whitespace trim
\procedure actions()
<$transclude $variable="actions-switch-colour-palette" paletteTitle=<<navigateTo>>/>
\end actions

<$linkcatcher actions=<<actions>>>
	<div class="tc-chooser tc-chooser-cards">
		<$list filter="[all[shadows+tiddlers]tag[$:/tags/Palette]sort[name]]">
			<$set name="cls" filter="[all[current]prefix{$:/palette}]" value="tc-chooser-item tc-chosen" emptyValue="tc-chooser-item">
				<div class=<<cls>>>
					<$link to={{!!title}} aria-label=`${[[$:/language/ControlPanel/Palette/Caption]get[text]]}$ - ${[all[current]get[name]]}$. ${[all[current]get[description]]}$`>
						{{||$:/snippets/currpalettepreview}}
						<div class="tc-chooser-item-description">
							''<$view field="name" format="text"/>''
							<div class="tc-chooser-item-subtitle">
								<$view field="description" format="text"/>
							</div>
						</div>
					</$link>
				</div>
			</$set>
		</$list>
	</div>
</$linkcatcher>
